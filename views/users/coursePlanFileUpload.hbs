<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' href='/stylesheets/styleCoursePlanFileUpload.css' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!--<script type="text/javascript">
        function preventBack() { window.history.forward(); }
        setTimeout("preventBack()", 0);
        window.onunload = function () { null };  
    </script>-->
</head>

<body>
    <div class="overlay" onclick="off()"></div>
    <button style="display: none;" id="nonPurpose" value="{{justLoggedIn}}"></button>
    <header class="text-center" id="preProductionHomeHeader">
        <div class="">
            <img src="https://vit.ac.in/files/gravitas19/images/vit_white.png" id="preProductionHomeLogo" alt="">
        </div>
        <div class="topright">
            <a href="" style="text-decoration: none; color:#fff">
                <img src="https://cdn-icons-png.flaticon.com/128/3237/3237472.png" width="40" height="40"
                    style="margin-right:5px" alt="">
                {{user.facultyName}}
            </a>
        </div>
    </header>
    <div class="containerMain">
        <a href="#" class="toggleBox">
            <span class="icon"></span>
        </a>
        <ul class="navItems">
            <li>
                <a href="/faculty-home">
                    <i class="fa fa-home" style="--i:1"></i>
                    <span style="--g:1">home</span>
                </a>
            </li>
            <li>
                <a href="/faculty-course-plan">
                    <i class="fa fa-solid fa-book" style="--i:2"></i>
                    <span style="--g:2">Course Plan</span>
                </a>
            </li>
            <li>
                <a href="/faculty-confirmation">
                    <i class="fa-solid fa-check-to-slot" style="--i:3"></i>
                    <span style="--g:3">Confirmation</span>
                </a>
            </li>
            <li>
                <a href="/faculty-slot-booking">
                    <i class="fa-solid fa-user" style="--i:4"></i>
                    <span style="--g:4">Slot Booking</span>
                </a>
            </li>
            <li>
                <a href="/logout">
                    <i class="fa-solid fa-right-from-bracket" style="--i:5"></i>
                    <span style="--g:5">logout</span>
                </a>
            </li>
        </ul>
    </div>
    <section id="tableSection" class="table-responsive-lg p-5" style=" top:100px">
        <table class="table table-bordered " style="table-layout: fixed;">
            <tbody>
                <form action="/file-upload" method="post" enctype="multipart/form-data" id="form1">
                    <tr>
                        <td style="width:200px ;">Week Topic</td>
                        <td style="width: ;">{{weekTopic}}</td>
                        <td style="width: 200px ;"></td>
                    </tr>
                    <tr>
                        <td>Lecture Notes</td>
                        <td id="myfile1Display" style="color: #673ab7;">
                            {{#if flags.file}}
                            <a href="{{requirredFiles.file}}" data-value="{{requirredFiles.file}}" target="_blank"
                                download="{{week}}-Reference Material 1" style="text-decoration: none;"
                                id="file">Lecture Notes</a>
                            {{/if}}
                        </td>
                        <td class="text-center">
                            <label for="myfile1"><span class=" btn btn-primary btn-sm btn-rounded attach"
                                    style="font-size: 14px;">Attach</span></label>
                            <input type="file" id="myfile1" class="hide" name="file" accept=".pdf, .docx, .pptx, .zip, .rar">
                            <span class=" btn btn-primary btn-sm btn-rounded" id="1"
                                onclick="clearInput(this.id)">Clear</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Web Links</td>
                        <td id="myfile3Display" style="color: #673ab7;">
                            {{#if flags.webLink}}
                            <a href="{{requirredFiles.webLink}}" data-value="{{requirredFiles.webLink}}" target="_blank"
                                download="{{week}}-Web Material" style="text-decoration: none;"
                                id="webLink">Web Material</a>
                            {{/if}}
                        </td>
                        <td class="text-center">
                            <label for="myfile3"><span class=" btn btn-primary btn-sm btn-rounded attach"
                                    style="font-size: 14px;">Attach</span></label>
                            <input type="file" id="myfile3" class="hide" name="webLink" accept=".pdf, .docx, .pptx, .zip, .rar">
                            <span class=" btn btn-primary btn-sm btn-rounded" id="3"
                                onclick="clearInput(this.id)">Clear</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Quiz</td>
                        <td id="myfile2Display" style="color: #673ab7;">
                            {{#if flags.quiz}}
                            <a href="{{requirredFiles.quiz}}" data-value="{{requirredFiles.quiz}}" target="_blank"
                                download="{{week}}-Quiz" style="text-decoration: none;" id="quiz">Quiz</a>
                            {{/if}}
                        </td>
                        <td class="text-center">
                            <label for="myfile2"><span class=" btn btn-primary btn-sm btn-rounded attach"
                                    style="font-size: 14px;">Attach</span></label>
                            <input type="file" id="myfile2" class="hide" name="quiz" accept=".pdf, .docx, .txt">
                            <span class=" btn btn-primary btn-sm btn-rounded" id="2"
                                onclick="clearInput(this.id)">Clear</span>
                        </td>
                    </tr>
            </tbody>
        </table>
    </section>
    <section class="row text-center" style="margin-top:80px;">
        <div class="col-md-12">
            <button type="submit" class="btn btn-primary btn-rounded " style="margin-right:20px ;"
                style="font-size: 14px;">Upload</button>
        </div>
    </section>
    <input type="hidden" value="{{id}}" name="id" id="id">
    <input type="hidden" value="{{week}}" name="week" id="week">
    </form>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
        crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        var toggleClick = document.querySelector(".toggleBox");
        var containerMain = document.querySelector(".containerMain");
        var overlayScreen = document.querySelector(".overlay");

        toggleClick.addEventListener('click', () => {
            toggleClick.classList.toggle('active');
            overlayScreen.classList.toggle('active');
            containerMain.classList.toggle('active');
        })

        function off() {
            toggleClick.classList.toggle('active');
            overlayScreen.classList.toggle('active');
            containerMain.classList.toggle('active');
        }

        let oldFiles = {}
        let flags = {}
        let fetchFlag = true
        window.onload = deleteInitialFilelist

        function deleteInitialFilelist() {
            let keys = ["file",  "quiz", "webLink"]
            for (var i = 0; i < 3; i++) {
                element = document.getElementById(keys[i])
                if (element != null) {
                    oldFiles[keys[i]] = element.dataset.value
                    flags[keys[i]] = false
                }
            }
            if (jQuery.isEmptyObject(oldFiles)) {
                fetchFlag = false
            }
        }

        $('form').submit(function (ev) {
            ev.preventDefault();

            Swal.fire({
                title: 'Are you sure?',
                text: "You want to Update?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, Submit'
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        icon: 'success',
                        title: 'File Uploaded Successfully',
                        showConfirmButton: false,
                        timer: 2000
                    }).then((response) => {
                        if (fetchFlag) {
                            fetch('/delete', {
                                headers: { 'Content-Type': "application/json" },
                                method: "POST",
                                body: JSON.stringify({ flags: flags, paths: oldFiles }),
                            }).then(res => res.json()).then(response => {
                                $(this).unbind('submit').submit()
                            })
                        }
                        else {
                            $(this).unbind('submit').submit()
                        }
                    })
                }
            })
        });

        $(document).ready(function () {
            $('input[type="file"]').change(function (e) {
                var id = e.target.id
                var fileName = e.target.files[0].name;
                var fileType = e.target.files[0].type.split("/");
                var fileSize = e.target.files[0].size
                var acceptedFileTypes = []
                if(id == "myfile1"){
                    acceptedFileTypes = ["vnd.openxmlformats-officedocument.wordprocessingml.document", "vnd.openxmlformats-officedocument.presentationml.presentation", "pdf","zip","x-zip-compressed","x-zip"]
                }
                else if(id == "myfile3"){
                    acceptedFileTypes = ["vnd.openxmlformats-officedocument.wordprocessingml.document", "vnd.openxmlformats-officedocument.presentationml.presentation", "pdf","zip","x-zip-compressed","x-zip"]
                }
                else{
                    acceptedFileTypes = ["vnd.openxmlformats-officedocument.wordprocessingml.document", "pdf","plain","text"]
                }
                console.log(id == "myfile1")
                if (acceptedFileTypes.includes(fileType[1]) || ((fileName.split(".")[1] == "rar") && (id=="myfile3" || id=="myfile1"))) {
                    if (fileSize < 6000000) {
                        $("#" + id + "Display").text(fileName);

                        let tempFileName = id.split("my")[1]
                        if (tempFileName == "file1") {
                            tempFileName = "file"
                        }
                        if (tempFileName == "file2") {
                            tempFileName = "quiz"
                        }
                        if(tempFileName == "file3"){
                            tempFileName = "webLink"
                        }
                        if (flags[tempFileName] == false) {
                            flags[tempFileName] = true
                        }
                    }
                    else {
                        document.getElementById(id).value = ""
                        const Toast = Swal.mixin({
                            toast: true,
                            position: 'top',
                            showConfirmButton: false,
                            timer: 3500,
                            timerProgressBar: false,
                            didOpen: (toast) => {
                                toast.addEventListener('mouseenter', Swal.stopTimer)
                                toast.addEventListener('mouseleave', Swal.resumeTimer)
                            }
                        })

                        Toast.fire({
                            icon: 'error',
                            title: 'File size Exceeded'
                        })
                    }
                }
                else {
                    document.getElementById(id).value = ""
                    const Toast = Swal.mixin({
                        toast: true,
                        position: 'top',
                        showConfirmButton: false,
                        timer: 3500,
                        timerProgressBar: false,
                        didOpen: (toast) => {
                            toast.addEventListener('mouseenter', Swal.stopTimer)
                            toast.addEventListener('mouseleave', Swal.resumeTimer)
                        }
                    })

                    Toast.fire({
                        icon: 'error',
                        title: 'File not Supported'
                    })
                }
            });
        });

        function clearInput(id) {
            let inputElement = document.getElementById("myfile" + id)
            inputElement.value = ""
            let dispalyElement = document.getElementById("myfile" + id + "Display")
            dispalyElement.innerHTML = ""
            let tempFileName = ""
            if (id == 1) {
                tempFileName = "file"
            }
            else if(id == 2) {
                tempFileName = "quiz"
            }
            else{
                tempFileName = "webLink"
            }
            if (flags[tempFileName] == false) {
                flags[tempFileName] = true

                let courseId = document.getElementById("id").value
                let week = document.getElementById("week").value + "-" + tempFileName
                fetch('/delete-filePath-from-Db', {
                    headers: { 'Content-Type': "application/json" },
                    method: "POST",
                    body: JSON.stringify({ id: courseId, key: week }),
                }).then(res => res.json()).then(response => {
                })
            }
        }

    </script>
</body>

</html>




















<!--
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' href='/stylesheets/styleCoursePlanFileUpload.css' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="overlay" onclick="off()"></div>
    <button style="display: none;" id="nonPurpose" value="{{justLoggedIn}}"></button>
    <header class="text-center" id="preProductionHomeHeader">
        <div class="">
            <img src="https://vit.ac.in/files/gravitas19/images/vit_white.png" id="preProductionHomeLogo" alt="">
        </div>
        <div class="topright">
            <a href="" style="text-decoration: none; color:#fff">
                <img src="https://cdn-icons-png.flaticon.com/128/3237/3237472.png" width="40" height="40"
                    style="margin-right:5px" alt="">
                {{user.facultyName}}
            </a>
        </div>
    </header>
    <div class="containerMain">
        <a href="#" class="toggleBox">
            <span class="icon"></span>
        </a>
        <ul class="navItems">
            <li>
                <a href="/faculty-home">
                    <i class="fa fa-home" style="--i:1"></i>
                    <span style="--g:1">home</span>
                </a>
            </li>
            <li>
                <a href="/faculty-course-plan">
                    <i class="fa fa-solid fa-book" style="--i:2"></i>
                    <span style="--g:2">Course Plan</span>
                </a>
            </li>
            <li>
                <a href="/faculty-confirmation">
                    <i class="fa-solid fa-check-to-slot" style="--i:3"></i>
                    <span style="--g:3">Confirmation</span>
                </a>
            </li>
            <li>
                <a href="/faculty-slot-booking">
                    <i class="fa-solid fa-user" style="--i:4"></i>
                    <span style="--g:4">Slot Booking</span>
                </a>
            </li>
            <li>
                <a href="/logout">
                    <i class="fa-solid fa-right-from-bracket" style="--i:5"></i>
                    <span style="--g:5">logout</span>
                </a>
            </li>
        </ul>
    </div>
    <section id="tableSection" class="table-responsive-lg p-5" style=" top:100px">
        <table class="table table-bordered " style="table-layout: fixed;">
            <tbody>
                <form action="/file-upload" method="post" enctype="multipart/form-data" id="form1">
                    <tr>
                        <td style="width:200px ;">Week Topic</td>
                        <td style="width: ;">{{weekTopic}}</td>
                        <td style="width: 200px ;"></td>
                    </tr>
                    <tr>
                        <td>Reference Material 1</td>
                        <td id="myfile1Display" style="color: #673ab7;">
                            {{#if flags.file1}}
                            <a href="{{requirredFiles.file1}}" data-value="{{requirredFiles.file1}}" target="_blank"
                                download="{{week}}-Reference Material 1" style="text-decoration: none;"
                                id="file1">Reference Material 1</a>
                            {{/if}}
                        </td>
                        <td class="text-center">
                            <label for="myfile1"><span class=" btn btn-primary btn-sm btn-rounded attach"
                                    style="font-size: 14px;">Attach</span></label>
                            <input type="file" id="myfile1" class="hide" name="file1" accept=".pdf, .docx, .pptx, .zip">
                            <span class=" btn btn-primary btn-sm btn-rounded" id="1"
                                onclick="clearInput(this.id)">Clear</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Reference Material 2</td>
                        <td id="myfile2Display" style="color: #673ab7;">
                            {{#if flags.file2}}
                            <a href="{{requirredFiles.file2}}" data-value="{{requirredFiles.file2}}" target="_blank"
                                download="{{week}}-Reference Material 1" style="text-decoration: none;"
                                id="file2">Reference Material 2</a>
                            {{/if}}
                        </td>
                        <td class="text-center">
                            <label for="myfile2"><span class=" btn btn-primary btn-sm btn-rounded attach"
                                    style="font-size: 14px;">Attach</span></label>
                            <input type="file" id="myfile2" class="hide" name="file2" accept=".pdf, .docx, .pptx, .zip">
                            <span class=" btn btn-primary btn-sm btn-rounded" id="2"
                                onclick="clearInput(this.id)">Clear</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Reference Material 3</td>
                        <td id="myfile3Display" style="color: #673ab7;">
                            {{#if flags.file3}}
                            <a href="{{requirredFiles.file3}}" data-value="{{requirredFiles.file3}}" target="_blank"
                                download="{{week}}-Reference Material 1" style="text-decoration: none;"
                                id="file3">Reference Material 3</a>
                            {{/if}}
                        </td>
                        <td class="text-center">
                            <label for="myfile3"><span class=" btn btn-primary btn-sm btn-rounded attach"
                                    style="font-size: 14px;">Attach</span></label>
                            <input type="file" id="myfile3" class="hide" name="file3" accept=".pdf, .docx, .pptx, .zip">
                            <span class=" btn btn-primary btn-sm btn-rounded" id="3"
                                onclick="clearInput(this.id)">Clear</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Reference Material 4</td>
                        <td id="myfile4Display" style="color: #673ab7;">
                            {{#if flags.file4}}
                            <a href="{{requirredFiles.file4}}" data-value="{{requirredFiles.file4}}" target="_blank"
                                download="{{week}}-Reference Material 1" style="text-decoration: none;"
                                id="file4">Reference Material 4</a>
                            {{/if}}
                        </td>
                        <td class="text-center">
                            <label for="myfile4"><span class=" btn btn-primary btn-sm btn-rounded attach"
                                    style="font-size: 14px;">Attach</span></label>
                            <input type="file" id="myfile4" class="hide" name="file4" accept=".pdf, .docx, .pptx, .zip">
                            <span class=" btn btn-primary btn-sm btn-rounded" id="4"
                                onclick="clearInput(this.id)">Clear</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Quiz</td>
                        <td id="myfile5Display" style="color: #673ab7;">
                            {{#if flags.quiz}}
                            <a href="{{requirredFiles.quiz}}" data-value="{{requirredFiles.quiz}}" target="_blank"
                                download="{{week}}-Quiz" style="text-decoration: none;" id="quiz">Quiz</a>
                            {{/if}}
                        </td>
                        <td class="text-center">
                            <label for="myfile5"><span class=" btn btn-primary btn-sm btn-rounded attach"
                                    style="font-size: 14px;">Attach</span></label>
                            <input type="file" id="myfile5" class="hide" name="quiz" accept=".pdf, .docx, .pptx, .zip">
                            <span class=" btn btn-primary btn-sm btn-rounded" id="5"
                                onclick="clearInput(this.id)">Clear</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Web Material</td>
                        <td><input type="text" style="width: 100%;" value="{{requirredFiles.webLink}}" name="webLink">
                        </td>
                        <td class="text-center"></td>
                    </tr>
            </tbody>
        </table>
    </section>
    <section class="row text-center" style="margin-top:80px;">
        <div class="col-md-12">
            <button type="submit" class="btn btn-primary btn-rounded " style="margin-right:20px ;"
                style="font-size: 14px;">Upload</button>
        </div>
    </section>
    <input type="hidden" value="{{id}}" name="id" id="id">
    <input type="hidden" value="{{week}}" name="week" id="week">
    </form>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
        crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        var toggleClick = document.querySelector(".toggleBox");
        var containerMain = document.querySelector(".containerMain");
        var overlayScreen = document.querySelector(".overlay");

        toggleClick.addEventListener('click', () => {
            toggleClick.classList.toggle('active');
            overlayScreen.classList.toggle('active');
            containerMain.classList.toggle('active');
        })

        function off() {
            toggleClick.classList.toggle('active');
            overlayScreen.classList.toggle('active');
            containerMain.classList.toggle('active');
        }

        let oldFiles = {}
        let flags = {}
        let fetchFlag = true
        window.onload = deleteInitialFilelist

        function deleteInitialFilelist() {
            let keys = ["file1", "file2", "file3", "file4", "quiz"]
            for (var i = 0; i < 5; i++) {
                element = document.getElementById(keys[i])
                if (element != null) {
                    oldFiles[keys[i]] = element.dataset.value
                    flags[keys[i]] = false
                }
            }
            if (jQuery.isEmptyObject(oldFiles)) {
                fetchFlag = false
            }
        }

        $('form').submit(function (ev) {
            ev.preventDefault();

            Swal.fire({
                title: 'Are you sure?',
                text: "You want to Update?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, Submit'
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        icon: 'success',
                        title: 'Course Plan has been Updated',
                        showConfirmButton: false,
                        timer: 2000
                    }).then((response) => {
                        if (fetchFlag) {
                            fetch('/delete', {
                                headers: { 'Content-Type': "application/json" },
                                method: "POST",
                                body: JSON.stringify({ flags: flags, paths: oldFiles }),
                            }).then(res => res.json()).then(response => {
                                console.log(response)
                                $(this).unbind('submit').submit()
                            })
                        }
                        else {
                            $(this).unbind('submit').submit()
                        }
                    })
                }
            })
        });

        $(document).ready(function () {
            $('input[type="file"]').change(function (e) {
                var id = e.target.id
                var fileName = e.target.files[0].name;
                var fileType = e.target.files[0].type.split("/");
                var fileSize = e.target.files[0].size
                console.log(fileType[1])
                var acceptedFileTypes = ["vnd.openxmlformats-officedocument.wordprocessingml.document", "vnd.openxmlformats-officedocument.presentationml.presentation", "pdf","zip","octet-stream","x-zip-compressed","x-zip"]
                if (acceptedFileTypes.includes(fileType[1])) {
                    if (fileSize < 6000000) {
                        $("#" + id + "Display").text(fileName);

                        let tempFileName = id.split("my")[1]
                        if (tempFileName == "file5") {
                            tempFileName = "quiz"
                        }
                        if (flags[tempFileName] == false) {
                            flags[tempFileName] = true
                        }
                    }
                    else {
                        document.getElementById(id).value = ""
                        const Toast = Swal.mixin({
                            toast: true,
                            position: 'top',
                            showConfirmButton: false,
                            timer: 3500,
                            timerProgressBar: false,
                            didOpen: (toast) => {
                                toast.addEventListener('mouseenter', Swal.stopTimer)
                                toast.addEventListener('mouseleave', Swal.resumeTimer)
                            }
                        })

                        Toast.fire({
                            icon: 'error',
                            title: 'File size Exceeded'
                        })
                    }
                }
                else {
                    document.getElementById(id).value = ""
                    const Toast = Swal.mixin({
                        toast: true,
                        position: 'top',
                        showConfirmButton: false,
                        timer: 3500,
                        timerProgressBar: false,
                        didOpen: (toast) => {
                            toast.addEventListener('mouseenter', Swal.stopTimer)
                            toast.addEventListener('mouseleave', Swal.resumeTimer)
                        }
                    })

                    Toast.fire({
                        icon: 'error',
                        title: 'File not Supported'
                    })
                }
            });
        });

        function clearInput(id) {
            let inputElement = document.getElementById("myfile" + id)
            inputElement.value = ""
            let dispalyElement = document.getElementById("myfile" + id + "Display")
            dispalyElement.innerHTML = ""
            let tempFileName = ""
            if (id == 5) {
                tempFileName = "quiz"
            }
            else {
                tempFileName = "file" + id
            }
            if (flags[tempFileName] == false) {
                flags[tempFileName] = true

                let courseId = document.getElementById("id").value
                let week = document.getElementById("week").value + "-" + tempFileName
                fetch('/delete-filePath-from-Db', {
                    headers: { 'Content-Type': "application/json" },
                    method: "POST",
                    body: JSON.stringify({ id: courseId, key: week }),
                }).then(res => res.json()).then(response => {
                    console.log(response)
                })
            }
        }

    </script>
</body>

</html>
-->